<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>FXDeployment: Getting started</title>
    <link rel='shortcut icon' href='./images/favicon.ico'>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <header>
        <h1><a href="index.html" title="Go to overview">FXDeployment: Attaching Callbacks</a></h1>

        <h3><em>
            Embed a JavaFX scene into a browser page and automatically support user interaction via JavaScript callbacks
            in the host environment
        </em></h3>

        <p class="view"><a href="https://github.com/FXDeployment/FXDeployment">View the Project on GitHub
            <small>FXDeployment/FXDeployment</small>
        </a></p>


        <h3>Source Code</h3>
        <ul>
            <li>
                <a href="https://github.com/FXDeployment/FXDeployment/zipball/master">Download <strong>ZIP File</strong></a>
            </li>
            <li>
                <a href="https://github.com/FXDeployment/FXDeployment/tarball/master">Download <strong>TAR Ball</strong></a>
            </li>
            <li>
                <a href="https://github.com/FXDeployment/FXDeployment">View On <strong>GitHub</strong></a>
            </li>
        </ul>
        <hr>
        <h3>Resources</h3>
        <p>
        <ul>
            <li>
                <a href="./GettingStarted.html"> <strong>Getting Started</strong></a>
            </li>
            <li>
                <a href="./AttachingCallbacks.html"> <strong>Attaching Callbacks</strong></a>
            </li>
            <li>
                <a href="./FXWebApp.html"> <strong>FXWebApp methods</strong></a>
            </li>
        </ul>
        <ul>
            <li>
                <a href="./GUIDesignTools.html"> <strong>GUI Design Tools</strong></a>
            </li>
            <li>
                <a href="./AttachingCallbacks.html"> <strong>Creating FXML</strong></a>
            </li>
            <li>
                <a href="./javadoc/index.html"> <strong>Java Documents</strong></a>
            </li>
        </ul>
        <hr>
        </p>

    </header>

    <section>
        <p>
            When an <strong><em>FXWebApp</em></strong> instance is created, a controller is added that
            contains Java-coded listeners for the controls in your GUI. By default, these listeners simply forward
            events, such as mouse-clicks on JavaFX buttons, to Javascript callbacks.<br>
            Users can therefore write callbacks entirely in Javascript: there is no need to work in Java.<br>
            The callback parent object is a Javascript variable that contains the callbacks and is defined by the user
            via the
            <strong>data-callbacks</strong> attribute of the <strong>fxml-placeholder</strong> or
            <strong>fxml-content</strong> element described on the <a href="./GettingStarted.html">Getting Started</a>
            page.<br>
            <strong>
                Callbacks are run on the JavaFX Platform thread. You can be assured of thread-safety
                when altering or interacting with the GUI in these callbacks.
            </strong>
        </p>

        <h3>
            <a aria-hidden="true"><span
                    class="octicon octicon-link"></span></a>Naming the callbacks
        </h3>
        With a GUI element described in HTML, a web-developer might add a callback as an
        attribute of the element in the HTML document.<br>
        Using <strong><em>FXWebApp</em></strong>, callbacks for GUI elements specified in FXML
        are added using a naming convention based of that element's <strong>id</strong> property:
        <ol>
            <li> If a function is defined in the callback parent object that has a name
                equivalent to the nodes's id appended with "_callback", that function will be
                called.
            </li>
            <li> If not, if a function is defined in the callback parent object that has
                a name equivalent to the node's shortened, lowercase class name appended with
                "$callback", that function will be called.
            </li>
        </ol>
        For illustration assume the callbacks are defined in a variable name fxml$callbacks (which is the default).
        If the GUI has a JavaFX button with an id of "myButton", the controller will call into the
        <strong>fxml$callbacks.myButton_callback</strong> function assuming it exists.
        If the button does not have its id set, or the callback above does not exist, the controller will
        call the generic callback for all buttons i.e. <strong>fxml$callbacks.button$callback</strong>.<br>
        Again, the call will only be made if the fxml$callbacks.button$callback function is defined.<br>
        <small><em>
            The <a href="./javadoc/index.html">Java documentation</a> for the <strong>
            <small>FXWebApp</small>
        </strong> class gives further details
            of the controller/listener setup and how this can be controlled from Javascript.
        </em></small>
        <hr>
        <h3>
            <a aria-hidden="true"><span
                    class="octicon octicon-link"></span></a>Setting ids
        </h3>
        The <strong>id</strong> property of the JavaFX GUI elements should be set as an attribute in the FXML file.
        To ensure uniqueness, it is recommended that the <strong>fx:id</strong> property be used (if the
        <strong>id</strong> is not also set, the <strong>fx:id</strong> will be copied to it and
        IDEs like Scene Builder will warn if <strong>fx:id</strong>'s are not unique).<br>
        <hr>

        <h3>
            <a aria-hidden="true"><span
                    class="octicon octicon-link"></span></a>Form of the callbacks
        </h3>
        The following are passed as arguments to the callback functions:
        <ol>
            <li> A reference to the JavaFX node that generated the callback.</li>
            <li> A reference to the JavaFX event that generated the callback.</li>
            <li> A value associated with this node.<br>
                Typically, this value will be <em>null</em>. See the <a href="./javadoc/index.html">Java
                    documentation</a> for the <strong><em>FXWebApp</em></strong> class for details of how to
                customise the controller setup to use this value.
            </li>
            <li> A set of data - supplied as a string.<br>
                Each <strong><em>FXWebApp</em></strong> instance has a string that to represent arbitrary
                user-specified data, typically as JSON.<br>
                The <strong><em>setData</em></strong> and <strong><em>getData</em></strong> methods of the
                <strong><em>FXWebApp</em></strong> class allow this string to be replaced or read.<br>
            </li>
        </ol>


    </section>

    <footer>
        <p>The project is maintained by
            <img src="./images/AppReflector_128.png" href="http://appreflector.com">
            <br>AppReflector Ltd
            </img>
        </p>

        <p>
            <small>
                Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a>
            </small>
        </p>
    </footer>
</div>
<script src="javascripts/scale.fix.js"></script>

</body>
</html>
